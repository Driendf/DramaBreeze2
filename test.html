<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Reproductor MultiIdioma</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body, html {
      margin: 0; padding: 0;
      height: 100%; width: 100%;
      overflow: hidden;
    }
    body {
      background: url("https://wallpapers.com/images/high/4k-starcraft-93wkz56g20rw8b5p.webp") no-repeat center center fixed;
      background-size: cover;
    }
    .overlay {
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(6px);
    }
    .flag {
      width: 46px; height: 32px;
      cursor: pointer; border: 2px solid transparent;
      border-radius: 6px; transition: transform 0.2s, border 0.2s;
    }
    .flag:hover { transform: scale(1.05); }
    .flag.active { border-color: #3b82f6; }
    .server-card {
      background: rgba(30,30,40,0.9);
      padding: 14px;
      border-radius: 12px;
      cursor: pointer;
      transition: transform 0.2s, background 0.2s;
    }
    .server-card:hover {
      transform: translateY(-3px);
      background: rgba(45,45,60,0.95);
    }
  </style>
</head>
<body class="flex items-center justify-center overlay text-white">

  <!-- Menú principal -->
  <div id="mainScreen" class="flex flex-col items-center justify-center w-full h-full max-w-6xl p-6">

    <!-- Idiomas -->
    <div class="mb-6 text-center">
      <p class="mb-3 text-lg font-semibold">Selecciona Idioma</p>
      <div class="flex gap-4 justify-center flex-wrap">
        <img src="https://flagcdn.com/w40/jp.png" alt="Japón" class="flag" onclick="selectLanguage('jp', this)">
        <img src="https://flagcdn.com/w40/mx.png" alt="Latino" class="flag" onclick="selectLanguage('latino', this)">
        <img src="https://flagcdn.com/w40/es.png" alt="Castellano" class="flag" onclick="selectLanguage('castellano', this)">
      </div>
    </div>

    <!-- Lista de servidores -->
    <div id="servers" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full">
      <!-- Se llena dinámicamente -->
    </div>
  </div>

  <!-- Pantalla del video -->
  <div id="playerScreen" class="hidden fixed inset-0 bg-black flex items-center justify-center z-50">
    <div class="relative w-full h-full flex items-center justify-center">
      <iframe id="videoFrame" class="w-full h-full" frameborder="0" allowfullscreen loading="lazy"></iframe>
      <button onclick="backToMenu()" class="absolute top-4 left-4 bg-white/20 hover:bg-white/40 px-4 py-2 rounded-xl backdrop-blur-sm text-white font-bold shadow-md">
        ⬅ Atrás
      </button>
    </div>
  </div>

  <script>
    // Servidores por idioma
    const serversByLang = {
      jp: [
        { name: "Vidhide", desc: "Streaming MultiCalidad", url: "https://filelions.to/embed/95seffllsygs", logo: "https://img.icons8.com/color/48/play--v1.png" },
        { name: "Streamwish", desc: "Streaming MultiCalidad", url: "https://iplayerhls.com/e/haikux6o9g34", logo: "https://img.icons8.com/color/48/video.png" }
      ],
      latino: [
        { name: "Dailymotion", desc: "Streaming HD", url: "https://geo.dailymotion.com/player.html?video=x9bsdxi", logo: "https://img.icons8.com/color/48/dailymotion.png" }
      ],
      castellano: [
        { name: "OK", desc: "Streaming HD", url: "https://ok.ru/videoembed/9317475617518", logo: "https://img.icons8.com/color/48/ok.png" }
      ]
    };

    let currentLang = "jp"; // por defecto el primero

    // Mostrar idioma por defecto
    window.onload = () => {
      const firstFlag = document.querySelector('.flag');
      selectLanguage(currentLang, firstFlag);
    };

    // Selección de idioma
    function selectLanguage(lang, el) {
      currentLang = lang;
      document.querySelectorAll(".flag").forEach(f => f.classList.remove("active"));
      el.classList.add("active");

      const serversDiv = document.getElementById("servers");
      serversDiv.innerHTML = "";
      serversByLang[lang].forEach(s => {
        const div = document.createElement("div");
        div.className = "server-card flex items-center gap-3";
        div.innerHTML = `
          <img src="${s.logo}" alt="${s.name}" class="w-10 h-10"/>
          <div>
            <h3 class="font-bold">${s.name}</h3>
            <p class="text-sm text-gray-300">${s.desc}</p>
          </div>
        `;
        div.onclick = () => openPlayer(s.url);
        serversDiv.appendChild(div);
      });
    }

    // Abrir video
    function openPlayer(url) {
      document.getElementById("mainScreen").classList.add("hidden");
      document.getElementById("playerScreen").classList.remove("hidden");
      document.getElementById("videoFrame").src = url;
    }

    // Volver al menú
    function backToMenu() {
      document.getElementById("videoFrame").src = "";
      document.getElementById("playerScreen").classList.add("hidden");
      document.getElementById("mainScreen").classList.remove("hidden");
    }
  </script>
</body>
</html>
